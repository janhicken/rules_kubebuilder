{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: [
    "config:recommended",
  ],
  ignorePaths: [
    "e2e/**"
  ],
  packageRules: [
    // Disable updates to non-dev dependencies.
    // These are just minimum requirements that should go out of the users' ways.
    {
      matchDatasources: ["bazel"],
      matchDepNames: [
        "bazel_lib",
        "bazel_features",
        "bazel_skylib",
        "platforms",
        "rules_cc",
        "rules_go",
        "rules_shell",
      ],
      enabled: false
    },
  ],
  // Disable hourly limits. Renovate is run as a batch job.
  prHourlyLimit: 0,
  postUpgradeTasks: {
    commands: ["make lock"],
    executionMode: "branch",
  }
}
